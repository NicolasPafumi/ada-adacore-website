
    <!DOCTYPE html>
    <html>
    <head>
        <title>Presidential Market Analysis</title>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <style>
            body {
                margin: 0; padding: 0;
                background-color: #111111;
                font-family: 'Arial', sans-serif;
                color: #E0E0E0;
                height: 100vh;
                display: flex;
                flex-direction: column;
                overflow: hidden;
            }
            
            .dashboard-header {
                padding: 15px;
                text-align: center;
                background: #000;
                border-bottom: 1px solid #333;
            }
            .dashboard-header h1 { margin: 0; font-size: 22px; color: #fff; }
            .dashboard-header p { margin: 5px 0 0; color: #888; font-size: 14px; }

            .cards-track {
                flex: 0 0 380px;
                display: flex;
                align-items: center;
                gap: 25px;
                padding: 0 40px;
                overflow-x: auto;
                background: #141414;
                border-bottom: 1px solid #333;
                scroll-behavior: smooth;
            }
            .cards-track::-webkit-scrollbar { height: 8px; }
            .cards-track::-webkit-scrollbar-track { background: #111; }
            .cards-track::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }

            .card {
                flex: 0 0 240px;
                height: 340px;
                background: #1f1f1f;
                border-radius: 12px;
                overflow: hidden;
                position: relative;
                cursor: pointer;
                border: 1px solid #333;
                transition: transform 0.2s, box-shadow 0.2s;
            }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(0,0,0,0.5);
                border-color: #666;
            }

            .img-container { 
                width: 100%; 
                height: 260px;
            }
            .img-container img {
                width: 100%; height: 100%;
                object-fit: cover;
                object-position: top;
                filter: grayscale(40%);
                transition: filter 0.3s;
            }
            .card:hover img { filter: grayscale(0%); }

            .card-info { padding: 8px; text-align: center; }
            .year { font-weight: bold; font-size: 24px; color: #fff; }
            .president { font-size: 14px; color: #ccc; }
            .party-bar { height: 4px; width: 100%; position: absolute; bottom: 0; }

            .main-view {
                flex: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                background: radial-gradient(circle, #222 0%, #000 100%);
            }
            .instruction {
                text-align: center; color: #555; font-size: 20px;
            }
            
            .modal-overlay {
                display: none;
                position: fixed; top: 0; left: 0;
                width: 100%; height: 100%;
                background: rgba(0,0,0,0.85);
                backdrop-filter: blur(5px);
                z-index: 1000;
            }
            .modal-content {
                position: absolute;
                top: 50%; left: 50%;
                transform: translate(-50%, -50%);
                width: 85%; height: 75%;
                background: #111;
                border: 1px solid #444;
                border-radius: 10px;
                box-shadow: 0 0 50px rgba(0,0,0,0.8);
                display: flex; flex-direction: column;
            }

            .modal-header {
                padding: 10px 20px;
                background: #1a1a1a;
                border-bottom: 1px solid #333;
                display: flex; justify-content: space-between; align-items: center;
            }
            .modal-title { font-size: 18px; font-weight: bold; }
            .close-btn {
                background: none; border: 1px solid #555; color: #ccc;
                padding: 5px 15px; border-radius: 15px; cursor: pointer;
            }
            .close-btn:hover { background: #c00; color: #fff; border-color: #c00; }

            #chart-container { flex: 1; width: 100%; }
        </style>
    </head>
    <body>

        <div class="dashboard-header">
            <h1>Presidential Market Analysis</h1>
            <p>Select a card below to view sector performance around elections</p>
        </div>

        <div class="cards-track">
            
        <div class="card" onclick="loadElectionGraph('2000-11-07', 'Al Gore vs George W. Bush')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6e/GeorgeWBush_%281%29.jpg" loading="lazy" alt="Al Gore vs George W. Bush">
            </div>
            <div class="card-info">
                <div class="year">2000</div>
                <div class="president">Al Gore vs George W. Bush</div>
            </div>
            <div class="party-bar" style="background-color: #F65B55"></div>
        </div>
        
        <div class="card" onclick="loadElectionGraph('2004-11-02', 'John Kerry vs George W. Bush')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/d/d4/George-W-Bush.jpeg" loading="lazy" alt="John Kerry vs George W. Bush">
            </div>
            <div class="card-info">
                <div class="year">2004</div>
                <div class="president">John Kerry vs George W. Bush</div>
            </div>
            <div class="party-bar" style="background-color: #FF2200"></div>
        </div>
        
        <div class="card" onclick="loadElectionGraph('2008-11-04', 'Barack Obama vs John McCain')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Official_portrait_of_Barack_Obama_%28cropped%29.jpg" loading="lazy" alt="Barack Obama vs John McCain">
            </div>
            <div class="card-info">
                <div class="year">2008</div>
                <div class="president">Barack Obama vs John McCain</div>
            </div>
            <div class="party-bar" style="background-color: #00FFFF"></div>
        </div>
        
        <div class="card" onclick="loadElectionGraph('2012-11-06', 'Barack Obama vs Mitt Romney')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/8/8d/President_Barack_Obama.jpg" loading="lazy" alt="Barack Obama vs Mitt Romney">
            </div>
            <div class="card-info">
                <div class="year">2012</div>
                <div class="president">Barack Obama vs Mitt Romney</div>
            </div>
            <div class="party-bar" style="background-color: #0088FF"></div>
        </div>
        
        <div class="card" onclick="loadElectionGraph('2016-11-08', 'Hillary Clinton vs Donald Trump')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/56/Donald_Trump_official_portrait.jpg" loading="lazy" alt="Hillary Clinton vs Donald Trump">
            </div>
            <div class="card-info">
                <div class="year">2016</div>
                <div class="president">Hillary Clinton vs Donald Trump</div>
            </div>
            <div class="party-bar" style="background-color: #5F0505"></div>
        </div>
        
        <div class="card" onclick="loadElectionGraph('2020-11-03', 'Joe Biden vs Donald Trump')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/68/Joe_Biden_presidential_portrait.jpg" loading="lazy" alt="Joe Biden vs Donald Trump">
            </div>
            <div class="card-info">
                <div class="year">2020</div>
                <div class="president">Joe Biden vs Donald Trump</div>
            </div>
            <div class="party-bar" style="background-color: #2E04A2"></div>
        </div>
        
        <div class="card" onclick="loadElectionGraph('2024-11-05', 'Kamala Harris vs Donald Trump')">
            <div class="img-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/7/76/Official_Presidential_Portrait_of_President_Donald_J._Trump_%282025%29_%283x4%29.jpg" loading="lazy" alt="Kamala Harris vs Donald Trump">
            </div>
            <div class="card-info">
                <div class="year">2024</div>
                <div class="president">Kamala Harris vs Donald Trump</div>
            </div>
            <div class="party-bar" style="background-color: #C63019"></div>
        </div>
        
        </div>

        <div class="main-view">
            <div class="instruction">
                &uarr;<br>Click an Election Card
            </div>
        </div>

        <!-- Hidden Modal -->
        <div id="modal" class="modal-overlay" onclick="closeModal()">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <div class="modal-title" id="modalTitle">Analysis</div>
                    <button class="close-btn" onclick="closeModal()">Close</button>
                </div>
                <div id="chart-container"></div>
            </div>
        </div>

        <script>
            // 1. Ingest Data from Python
            var chartData = {"2000-11-07": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.7485710539120912, 10.268348695097432, 2.300469260796451, 1.3866331117991297, 3.7004190585775065, 3.1830753036277564, 1.2330058431213267, 2.99446531685512, 0.2510737504578945, 3.382637245316135, 0.25981067845587963, 3.33353885991649, 0.5608664144693355, 3.552829976482863, 0.24814323091043128, 2.3412029428567416, 0.026267450573437132, 0.9465105263984093, 1.0702850000344204, 2.8419936614713244], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.21086199228794425, 0.0017343470015961514, 0.8081735675930818, 0.18331973907062332, 0.9760576775048859, 0.5771500028701463, 0.5893435092363994, 0.4501584818483535, 0.12843558646211337, 0.01522994034450056, 0.16655697077750253, 0.4082021620635758, 12.782685715355417, 1.6819822845072872, 1.6064273509368994, 0.11934280426171698, 0.06126766511992627, 0.00039722092384126027, 0.02055239598297925, 0.28078749979236434], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [1.9382741639356316, 2.8845622145535024, 0.02086758764466427, 0.8086548250802167, 1.538191232720217, 0.055078806721300715, 6.3023688385604455, 8.233436324020717, 0.18719783272941162, 0.024574837225777114, 0.32914394446712536, 0.9157046245466459, 0.5924045809827319, 0.27309254491272916, 0.5760891287935322, 0.0028952602250911057, 1.9250025139796678, 0.163970709151441, 0.4579075575174056, 0.08341705966869724], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.3497024119213639, 0.320167775200397, 0.19754931754994087, 0.23691890177525393, 2.3078070240362414, 6.708713109064775, 0.8697385424256859, 0.4537046865670992, 1.5161384597127432, 0.5378686558994817, 0.5889144695705425, 6.741677815701777, 8.214524643883292, 3.9904083226670566, 8.41355853975385, 0.48074064241055925, 0.41046177067375744, 0.0600214443832524, 0.1341987076387573, 0.833040107088753], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [3.2125161664276574, 3.6633716910280096, 6.064000087262928, 0.8617495196253008, 3.375566141648388, 0.3514756047615618, 0.005506821573318982, 0.05092581191954935, 0.1217865823164568, 0.19657001235915714, 0.060233541711845945, 0.07212752800789662, 0.4454310120524297, 0.9235707347634742, 1.6642250413380975, 2.2027481004233924, 0.6122931457063253, 0.7239153239393827, 0.07641798124906456, 1.098458187400648], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [2.946417291527615, 0.0012888306685919198, 0.14250786246156566, 2.635272539976464, 0.21921787286984148, 6.572909429838286, 0.12155978735129258, 0.14936563027370456, 1.0224124322062575, 0.16500876547347562, 0.14921095315793742, 1.4058236293110413, 1.0035058197896218, 0.18595538586835425, 2.0936640659573027, 0.009930409760563525, 0.0018355386736759922, 3.6488617800734975, 8.877241158829599e-07, 0.09537177688359834], "name": "Industrials", "line_color": "#FF3D3D88"}], "2004-11-02": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [2.590462603394114, 0.5591262248796991, 0.0005969494426552352, 0.8669342391152881, 0.02052817030562151, 10.249078275766657, 2.7681381873405346, 0.09047700852850575, 0.06628291945256312, 0.8820811519776801, 0.04907076614576454, 2.8232533389465284, 1.0860258210834635, 0.05159200221302923, 0.6387334087274374, 0.12873041130830443, 2.9156506624926406, 0.27440625289166476, 0.44597320101418647, 0.39360920738019833], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [1.7554975402872806, 0.08282741164326358, 6.338515687926377, 0.13610296937620006, 0.5887118100598012, 2.333000726582792, 11.964267218397717, 0.4373310158296823, 0.40987980038153754, 4.787631742465976, 1.947249368868887, 14.336677868227646, 1.9731013010981955, 0.09885296946465907, 0.12594622918498616, 0.273777999160037, 0.27310090744127735, 0.0022309099946757676, 0.5123382918429347, 0.7544278316635757], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.07788921026137582, 7.38292136679999, 0.05352514756261406, 0.4379984341965595, 0.01365135173702776, 0.051021743546764434, 11.236718334892174, 5.912773949164926, 2.0276872375689363, 1.1547989303338204, 3.5816775660017113, 1.0318070585937584, 0.020117859706815948, 0.0009008588038463229, 5.148101078191207, 1.3472477181941709, 1.4177710970151594, 1.2164847341788319, 2.2315925917912502, 8.996535624320636], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.07767164458659814, 0.2498184695919486, 0.15485546265587388, 0.2304908852915617, 0.006202889454985385, 0.045800592250276766, 0.6055125716986404, 0.19643831865185726, 0.10522454558127585, 0.1321682059903108, 0.44591322877860534, 4.750012156267718, 3.6058517894699813, 0.1813067704550214, 0.09460929362237833, 0.4083498795519445, 0.0377024085829608, 0.07708593344246024, 0.14734783751976835, 0.04005715344735247], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [2.164139908118448, 0.4745801292308174, 0.8826870795193092, 0.59848734137111, 0.009091464104451545, 2.4729547418510407, 0.530210852082329, 0.26212689060514466, 0.005937006565065279, 0.011601293435471012, 0.5991389530989559, 1.5530735096586334, 0.3512739342907218, 2.4699535612661707, 0.12013339605597324, 0.05673910012450013, 0.3102993531337767, 0.29949342490458136, 0.9270493787438909, 0.21606183483648492], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.045398694247735044, 0.11258329304586444, 0.28300386604721617, 0.6224870864615413, 0.0717727066518857, 0.0653295936005636, 0.09535767979172283, 3.1836469346304415, 1.2254848561133505, 0.0018068981083638053, 0.021608583400713303, 0.44036980019748073, 0.26732881272579506, 0.13068744176980598, 0.8644907070602211, 2.230271015800588, 0.5972938592573602, 1.073379514924064, 2.315825034458684, 0.9709131565410568], "name": "Industrials", "line_color": "#FF3D3D88"}], "2008-11-04": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [5.093698386937213, 1.5045842378020116e-05, 1.6690590449769505, 0.03203894220713799, 2.836380962158228, 12.899703548512209, 16.20806343889248, 0.28990369649071807, 2.070852870850946, 0.07529942937963294, 1.8401629507050565, 6.986040842535045, 0.1024381689795483, 0.0733919175742302, 0.11257411283308867, 0.9176163821512165, 0.6024968099430567, 0.2526920134573457, 0.031169326702090494, 4.236197813203513], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [1.0776324633865797, 0.2858798237966529, 4.339848444831248, 3.586003993914247, 2.3507929728577883, 0.19717674410555117, 0.03986700975656651, 0.05798100900499027, 0.040827682901669854, 0.17944106701413332, 0.23708372495814534, 0.40009969021795794, 0.49717216132914527, 0.26009091410340657, 0.006436497471171843, 0.00222639164315488, 0.10125151653753517, 1.5248452099749763, 0.3335657460329477, 0.436547500305678], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.5224464532755014, 4.928001898940928, 6.593920020500213, 0.01923250743884274, 2.2460753284158104, 0.6226451718594532, 3.949623418389049, 0.08163149071195729, 0.7653584652254324, 5.711835962436096, 2.4606018666483642, 0.08146920309077914, 0.17356570418166348, 0.23302125865011916, 1.0896522878036972, 0.17918126365302453, 3.9564362973808103, 7.622346973780245, 1.1815699747266446, 0.18322340847813803], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.8324887518019236, 0.43171712871948736, 0.27571209751296205, 0.10209496307056853, 0.9385285580918526, 0.6275968436189336, 1.7044445640651527, 0.022693583102176843, 2.834145014764901, 2.0254118228895646, 0.09935242980198965, 0.38346052764355826, 0.017071707542504134, 0.3946156688349444, 0.2175684289115564, 0.028775943477623928, 0.5895062517449947, 0.6140381295211915, 0.0017249318369001426, 0.42163943474877014], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.5288677539291515, 1.051870878485006, 1.2737757084038077, 0.5014324441499151, 1.4569898484846129, 1.4875081744634064, 3.9562997604574095, 0.6510908049460487, 2.5057431920056508, 0.00522863089184533, 0.00757381780993238, 0.8435751410415271, 0.6472026209983072, 1.7441529178834574, 0.13407449421740425, 0.39173600909214473, 0.17280286025689884, 1.1024539097197257, 1.3217684137144017, 2.39173527133033], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [3.736502766526357, 0.06606966579142906, 0.6631690611377533, 1.8522784511955175, 0.5867852962080827, 0.0027113838253587123, 1.343721923227477, 0.37826803190942326, 9.693996769664771, 4.73821965337302, 2.107390079540676, 0.2519405735623322, 0.04096370629179411, 4.258788158483914, 1.6171997093606256, 0.29049793332125545, 0.7384570934095879, 0.023810288586091504, 0.04122866568425579, 0.7335549895340673], "name": "Industrials", "line_color": "#FF3D3D88"}], "2012-11-06": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.9804735945151735, 1.9255352891166486, 0.22291529244074976, 0.2338088884065028, 0.7440208777752035, 0.05446835162355837, 0.33946288277392656, 1.1307961039059449, 0.5647029315304821, 0.7218108948955708, 0.504375666830847, 0.03837123829367778, 0.14562457597606213, 0.8340250649936175, 0.09448011939505342, 0.181991216144667, 0.510253308733045, 0.7946496137401787, 0.6161801564967688, 3.3661470897580856], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [1.0776007983919826, 0.0009252234271288155, 0.2980095470493151, 0.4965858742073089, 1.4617636400194176, 0.8046236452609808, 3.430001708586306, 0.0026523820752610144, 0.01258660848054631, 0.15266735922604505, 1.7103840570325628, 0.19537402697249773, 0.38644916799204015, 0.2069770809681428, 1.5795716529453863, 0.17007038612297842, 0.32985174375575244, 0.3653115330454834, 1.3373136771099488, 1.8401781726784472], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.6710758056598405, 0.32873986014882894, 1.1608588802980029, 0.31669841892207906, 1.4654293679896635, 0.19078853721056574, 0.02011051094957478, 2.3622617996015016, 0.9344653120193825, 1.0890582619875886, 1.6007342175687074, 0.27209741144712385, 0.06383890125153797, 0.011796009865962062, 0.052762823703835636, 0.002559160044958825, 1.2080054072733182, 0.4324230744903701, 0.30427670070342205, 0.3483450425382055], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.19648561973020331, 0.3036179698787254, 0.8484782413727924, 0.061704034930721983, 1.2941703419051571, 0.4115515666704784, 0.1579420484927899, 0.03311885044002306, 2.0125901758035614, 0.034174280269409024, 0.24583299831278768, 3.8592081485472414, 0.7724555496440546, 1.123475675428398, 0.020177962111703553, 1.6230990310386606, 0.21749335483299423, 0.0068717352434441705, 0.0965774439168325, 0.23491922617005706], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [1.7313418261214322, 0.06485452599476, 0.2441287351507553, 0.2996506922398724, 0.22220004832229331, 0.30369274045913774, 1.2963075330027394, 0.04532775211588107, 0.6010181255941622, 0.6496592427326706, 0.014999061793693265, 0.2867473095308913, 1.3084569711850695, 0.010652968068433655, 0.019972322443155173, 0.14737562589267733, 0.03545354137253639, 0.5537475518014587, 0.024671559070976633, 1.461000676136957], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.09060716048479231, 0.553719007834126, 3.5714694913249048, 0.6311688729881385, 0.5899617833317571, 0.2576352269024482, 1.8205775772067905, 3.3014076402184984, 0.14597267441223866, 0.9843017067701865, 0.15337169108735055, 0.5781656202823898, 0.8684750914361257, 0.43451059483674226, 0.15830200668282599, 0.08889207644878877, 5.2252616911085825, 0.3844942722992476, 0.8152584436357538, 1.4310960491145837], "name": "Industrials", "line_color": "#FF3D3D88"}], "2016-11-08": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.005139364929672494, 0.4356567419416852, 0.026831146629025766, 0.24842594505316337, 0.005069689032403422, 0.3390603248283666, 0.04164647789158834, 2.039212541091418, 0.01669160624686315, 0.12388944630366479, 0.007641387334168881, 9.233072077265158, 25.03116288686909, 2.364067992176921, 18.76957565059135, 2.0385215155305296, 9.076282863308114, 0.03493582456544914, 0.10673051001375707, 0.5546324301794053], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.0024659751351623557, 0.348955581367219, 1.3449986725856344, 8.037847203051093, 0.8149337609265789, 0.06333492799322622, 0.002503471622683379, 0.5763568930258853, 1.6144551031705863, 0.6594501350933457, 0.026758648551885582, 16.26694083657131, 2.821214030606035, 4.851365152783417, 0.33042792169330065, 0.5460409257372765, 0.14067359186166686, 0.021203762410482902, 1.978981494687176, 0.28428243694175875], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [6.227457121843876e-07, 0.5113527964615638, 0.04141587442102991, 0.03521852374613548, 1.6488235672101144, 1.4369892309181638, 0.2429640099051745, 1.6538226660414166, 0.3243420348108083, 1.0256206619075217, 0.32571634271068806, 0.02549035813962522, 0.04050910539087884, 3.4059678452033784, 0.047525314359182655, 4.227118079946807, 0.28428410097682194, 3.128828540107891, 0.5544399925762447, 2.504542445177941], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [2.527020939141972, 0.08556711202779034, 1.225039657563061, 0.030534456066698492, 0.004442143430846859, 5.315612133859246e-05, 0.036807656363639765, 0.14572972424149278, 0.061281511866393225, 0.20195092310493365, 0.0027621372399563005, 3.4349572641369694, 0.18858051767736286, 4.043380653203318, 0.05549783314715908, 0.6553428821304937, 3.0620369789405024, 2.5969111588313867, 0.04973337436843117, 0.00387243290033611], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.08635063901343347, 2.2699773244984787, 2.342099941108542, 0.09043936033746393, 0.37384726709296223, 1.7724841358163805, 0.07059770551153186, 2.4543281244729918, 0.3773025402421215, 0.09291295866720424, 1.1275513212787645, 43.893098505017065, 53.74428037916649, 1.9304417952199608, 23.991715765444184, 4.870404104196807, 6.527214389756063, 2.9761823525950835, 0.2082987678781699, 0.8061127907650619], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.0005699336948305604, 1.8127536820556351, 1.231950519968654, 8.081667167838944, 0.37215803730636515, 0.17211688097166847, 0.2905841452002356, 0.7014095074054856, 0.1605729226592149, 0.6927012483978428, 0.06957735485160331, 20.171882291360138, 32.10423139301076, 1.7693363686101302, 0.746669329501256, 1.8009310666487308, 0.905505739248335, 0.8799378010607898, 0.297872296136258, 0.287256026840411], "name": "Industrials", "line_color": "#FF3D3D88"}], "2020-11-03": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.052757562267065634, 0.006330827748827798, 3.6404654091462922, 0.7071258849622498, 0.003753554634541139, 1.1137055113086718, 0.0880540553091849, 0.23041622907584922, 2.4195080049335584, 2.6565244808464676, 0.3826113470417318, 3.778602912142185, 1.319923035735305, 0.2450898569004957, 10.548291987426635, 7.147743121576772, 4.051586675311414, 0.055102179509749515, 1.6126666259035707, 0.5638536099977669], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.09883519223824777, 0.2567751108842352, 2.3592470447795235, 0.00943712716552943, 0.36602921241172537, 0.34486922035972895, 0.2831456758277007, 5.497623426151371, 1.243664130626945, 1.4521289603074594, 0.00013440884969518076, 11.744484542682287, 3.6479347543322698, 0.0019853990717794605, 0.013305246019338982, 0.3461328950646761, 1.1108471543505896, 0.3461962925777123, 0.05410985635052968, 2.8640739253888543], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.3903933024742762, 0.8367067761449805, 5.88091412595604, 0.24260016662479694, 0.1336365400915565, 0.13426299909863296, 0.5179552607505754, 1.530535052813112, 2.3403949199458043, 1.7416391767214392, 3.5798736736234837, 3.695788172980817, 2.655071152678179, 1.3419045011635848, 59.73642644310826, 4.970872920675995, 1.2846179658753722, 0.9065220498844089, 1.084623177032825, 8.547103217060272], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.23507263447742832, 0.25541438418115137, 0.3069621344833305, 0.626124172508596, 0.18621218426277827, 0.11224955466716825, 0.01459893560498771, 0.4332181021136963, 4.7165798299995165, 0.32593119986708363, 0.7034746052388612, 0.005770954516314034, 0.04391347345963842, 0.198498871874743, 8.593013576244896, 0.2079507844817643, 0.05501124237233119, 0.8664502527589402, 0.21029008400709545, 0.06290180787229428], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.098528980912782, 0.18341471180733912, 2.9549481883462607, 0.012327825716114281, 0.012170077717883936, 2.0535973541987365, 3.72640446679783, 0.19664181661251584, 2.9256415087164584, 0.43523580438402787, 0.023399429200371913, 18.980654321160742, 0.00032218354620093954, 0.5587739730656176, 54.95907802763038, 0.7548707824585001, 1.8210156144140468, 0.22525798086361745, 0.0033733742474907472, 0.9789542293970654], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.004089126262286814, 0.852167569497887, 0.1094153649456951, 0.01418368672081737, 0.2928441952631621, 4.405201934976253, 0.2248413052228363, 0.16928120390969303, 1.280826227037279, 3.0583891771986567, 1.3055611197452055, 15.913847645759315, 0.06042096750460754, 0.03758698284604548, 5.26442444540599, 4.782428432377415, 3.1475037905356547, 0.006750392637527074, 0.679055560878913, 1.679928184422743], "name": "Industrials", "line_color": "#FF3D3D88"}], "2024-11-05": [{"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.017047216944554446, 0.03992793773840245, 0.0028143758414834533, 1.6592520238645374, 0.5702956759745305, 3.929413651469937, 3.2080512261233367, 0.1170429730052001, 0.14212923641503566, 0.5199976232401542, 0.6105075127174393, 2.2413493843948906, 1.6150139035904247, 1.6191017780023866, 1.1405982934560175, 1.3908332341441976, 0.5345928961809006, 1.861097621554024, 0.7230222671027141, 0.10939494338812655], "name": "Technology", "line_color": "#6795EAB9"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.034878618197778294, 0.00015819563709523917, 1.2925987150669183, 0.7621739729130153, 0.0005572125474157197, 0.370647023919854, 0.011033087595946225, 0.10293909175313487, 0.3808124192233802, 1.00615684361539, 0.0823686434285936, 5.823189199264848, 0.6553746436650816, 0.8701673953597878, 1.2759568258284952, 5.506705460049695, 0.2622488330839896, 6.003592199258565, 4.973901368458364, 0.03170411475391942], "name": "Healthcare", "line_color": "#2B8026F6"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.1140496806208936, 0.0016639932228986335, 0.05382452849736284, 0.0041670489761104585, 0.5474159158962032, 2.852901073640598, 0.11338453109688526, 3.0222623031194034, 0.8297267726563372, 4.206959473813057, 0.035516204197582224, 7.753983415695963, 0.560339239519159, 0.3371421710591111, 0.09846601273925791, 0.23374187606584, 0.7801758139885286, 0.5326152939504747, 0.16995989444867515, 1.4038018493502624], "name": "Energy", "line_color": "#FBB83BE0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.21590653938062307, 0.2514866797166155, 20.11472805965702, 0.4314029007521244, 0.06154706717393513, 1.296636276220907, 0.09650637466739255, 2.3975470714003646, 3.6215420791593993, 0.0022249965431053224, 0.32078770330691464, 0.08438861307909624, 0.61068092343015, 3.3530605908691817, 11.970272489068849, 2.676876550842954, 2.420032795246912, 1.2801953317390506, 1.9705263736489418, 0.9286732627920371], "name": "Consumer Cyclical", "line_color": "#F9F96DA0"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [0.22092651836056498, 0.2683738537903404, 0.002266913265055676, 2.9632171634050075, 1.3957524931594738, 0.9820495209979969, 0.8243841579940191, 0.002321466421572197, 0.04235479088324102, 1.0162766584632936, 9.142514426768638e-05, 38.725321751797864, 11.90342305572574, 0.7300873667104134, 2.75695748584519, 0.03573576620035568, 6.698898552760508e-05, 0.039413917305032964, 3.315831328315212, 0.011662728233718977], "name": "Financial Services", "line_color": "#BD55FD99"}, {"x": [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "y": [4.266229303519582, 0.5308942313086676, 2.2089099921442013, 0.15257611235698673, 1.8823599075515283e-06, 0.2868952007567785, 0.0003868369012017228, 0.5775535114765601, 0.35215880377311765, 0.0011695935110525159, 0.9376109108332017, 10.402199092840867, 6.088124079605022, 1.6070120896560314, 1.169653379973981, 1.6181220200223048, 0.14285506817566565, 5.1798483796362165, 0.8661855285430151, 0.8918412438622181], "name": "Industrials", "line_color": "#FF3D3D88"}]};
            var modal = document.getElementById('modal');
            var title = document.getElementById('modalTitle');

            // 2. Logic to Draw Graph
            function loadElectionGraph(electionKey, electionName) {
                var data = chartData[electionKey];
                if(!data) return;

                modal.style.display = "block";
                title.innerText = electionName;

                var traces = data.map(function(item) {
                    return {
                        x: item.x,
                        y: item.y,
                        mode: 'lines',
                        name: item.name,
                        line: { color: item.line_color, width: 2.5 },
                        hovertemplate: '<b>' + item.name + '</b><br>Day: %{x}<br>CAR: %{y:.2%}<extra></extra>'
                    };
                });

                var layout = {
                    paper_bgcolor: '#111',
                    plot_bgcolor: '#111',
                    font: { color: '#ccc', family: 'Arial' },
                    xaxis: { 
                        title: 'Days Relative to Election', 
                        gridcolor: '#333', zerolinecolor: '#666' 
                    },
                    yaxis: { 
                        title: 'Abnormal Volatility (Multiplicative Factor)', 
                        gridcolor: '#333', tickformat: '.1%' 
                    },
                    hovermode: 'x unified',
                    showlegend: true,
                    margin: { t: 50, l: 60, r: 40, b: 50 }
                };

                var config = { responsive: true, displayModeBar: false };
                Plotly.newPlot('chart-container', traces, layout, config);
            }

            function closeModal() {
                modal.style.display = "none";
            }
        </script>
    </body>
    </html>
    